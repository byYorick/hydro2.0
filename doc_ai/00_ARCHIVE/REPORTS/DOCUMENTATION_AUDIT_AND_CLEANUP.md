# Аудит и упорядочивание документации hydro 2.0

Дата: 2025-01-27  
Статус: В работе

## Цель

Привести документацию проекта в порядок: устранить несоответствия, исправить битые ссылки, создать навигационные индексы, обеспечить единообразие структуры.

---

## 1. Обнаруженные проблемы

### 1.1. Структурные несоответствия

#### Проблема: Упоминания `docs/` вместо `doc_ai/`
- **Файлы с проблемой:**
  - `01_SYSTEM/01_PROJECT_STRUCTURE_PROD.md` (строки 29, 45, 279, 325)
  - `04_BACKEND_CORE/FULL_STACK_DEPLOY_DOCKER.md` (строка 31)
- **Решение:** Обновить ссылки на `doc_ai/` или явно указать, что `docs/` — это mirror

#### Проблема: Упоминание несуществующих сервисов
- `api-gateway` — упоминается как отдельный сервис, но фактически это Laravel ✅ **ИСПРАВЛЕНО**
- `device-registry` — упоминается, но не реализован ✅ **ИСПРАВЛЕНО**
- **Решение:** Обновить документацию, указав реальное состояние ✅ **ВЫПОЛНЕНО** — оба сервиса помечены как LEGACY / NOT USED в `01_PROJECT_STRUCTURE_PROD.md`

### 1.2. Отсутствующие документы

- ✅ `NODE_CONFIG_SPEC.md` — **СОЗДАН** в `02_HARDWARE_FIRMWARE/`
- ✅ `PYTHON_SERVICES_ARCH.md` — **СОЗДАН** в `04_BACKEND_CORE/`

### 1.3. Битые ссылки

Требуется полный аудит всех ссылок в документации.

### 1.4. Дублирование информации

- Некоторые концепции описаны в нескольких местах
- Нужна консолидация и перекрестные ссылки

---

## 2. План упорядочивания

### Фаза 1: Создание навигационных индексов (ВЫСОКИЙ ПРИОРИТЕТ)

#### Задача 1.1: Создать главный индекс документации
**Файл:** `doc_ai/INDEX.md`

**Содержание:**
- Карта всей документации
- Быстрая навигация по разделам
- Связи между документами
- Статус документов (SPEC_READY, MVP_DONE, PLANNED)

#### Задача 1.2: Создать индекс по разделам
**Файлы:**
- `01_SYSTEM/README.md` — навигация по системной документации
- `02_HARDWARE_FIRMWARE/README.md` — навигация по прошивкам
- `03_TRANSPORT_MQTT/README.md` — навигация по MQTT
- `04_BACKEND_CORE/README.md` — навигация по backend
- `05_DATA_AND_STORAGE/README.md` — навигация по данным
- `06_DOMAIN_ZONES_RECIPES/README.md` — навигация по доменной логике
- `07_FRONTEND/README.md` — навигация по фронтенду
- `08_SECURITY_AND_OPS/README.md` — навигация по безопасности
- `09_AI_AND_DIGITAL_TWIN/README.md` — навигация по AI
- `10_AI_DEV_GUIDES/README.md` — навигация по гайдам
- `12_ANDROID_APP/README.md` — навигация по Android

### Фаза 2: Исправление ссылок (ВЫСОКИЙ ПРИОРИТЕТ)

#### Задача 2.1: Аудит всех ссылок
- Проверить все относительные ссылки
- Проверить все упоминания путей к файлам
- Исправить ссылки на `docs/` → `doc_ai/`

#### Задача 2.2: Стандартизация формата ссылок
- Единый формат: `[Текст](doc_ai/XX_XXX/FILE.md)`
- Относительные пути от корня `doc_ai/`

### Фаза 3: Консолидация информации (СРЕДНИЙ ПРИОРИТЕТ)

#### Задача 3.1: Выявить дублирование
- Сопоставить документы с похожим содержанием
- Создать перекрестные ссылки вместо дублирования
- Выделить единый источник истины для каждой концепции

#### Задача 3.2: Унификация терминологии
- Создать глоссарий (`GLOSSARY.md`)
- Унифицировать названия сущностей
- Унифицировать форматы примеров

### Фаза 4: Обновление статусов (СРЕДНИЙ ПРИОРИТЕТ)

#### Задача 4.1: Синхронизация `IMPLEMENTATION_STATUS.md`
- Проверить соответствие статусов реальному состоянию кода
- Обновить статусы компонентов
- Добавить даты обновления

#### Задача 4.2: Создать `CHANGELOG.md`
- История изменений документации
- Версионирование документов (опционально)

### Фаза 5: Улучшение структуры (НИЗКИЙ ПРИОРИТЕТ)

#### Задача 5.1: Стандартизация формата документов
- Единый шаблон заголовка
- Единая структура разделов
- Единый формат примеров кода

#### Задача 5.2: Добавить метаданные
- Автор документа
- Дата создания/обновления
- Версия
- Связанные документы

---

## 3. Приоритеты выполнения

### Критично (сделать немедленно):
1. ✅ Создать `INDEX.md` для навигации
2. ✅ Исправить ссылки на `docs/` → `doc_ai/`
3. ✅ Создать README в каждом разделе

### Важно (сделать в ближайшее время):
4. Провести полный аудит ссылок
5. Обновить `IMPLEMENTATION_STATUS.md`
6. Создать глоссарий

### Желательно (можно отложить):
7. Консолидация дублирующейся информации
8. Стандартизация формата документов
9. Добавление метаданных

---

## 4. Критерии завершения

Документация считается упорядоченной, когда:

- ✅ Создан главный индекс (`INDEX.md`)
- ✅ Созданы README в каждом разделе
- ✅ Все ссылки на `docs/` исправлены на `doc_ai/`
- ✅ Все битые ссылки исправлены
- ✅ `IMPLEMENTATION_STATUS.md` синхронизирован с реальностью
- ✅ Создан глоссарий терминов
- ✅ Нет противоречий между документами

---

## 5. Инструменты и автоматизация

### Рекомендуемые инструменты:
- Скрипт для проверки битых ссылок
- Скрипт для генерации индексов
- Скрипт для проверки соответствия структуры

### Автоматизация:
- CI/CD проверка битых ссылок
- Автоматическая генерация индексов при изменении структуры

---

## 6. Следующие шаги

1. Создать `INDEX.md`
2. Создать README в каждом разделе
3. Исправить ссылки на `docs/` → `doc_ai/`
4. Провести аудит всех ссылок
5. Обновить статусы реализации

---

## Примечания

- Документация в `doc_ai/` является эталонной
- Все изменения должны быть согласованы
- При несоответствиях приоритет у документации в `doc_ai/`

