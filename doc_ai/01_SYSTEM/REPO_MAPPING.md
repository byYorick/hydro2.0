# REPO_MAPPING.md
# Соответствие документации 2.0 и реальных репозиториев

Документ описывает, как файлы документации Hydro 2.0
соотносятся с реальными репозиториями кода.


Compatible-With: Protocol 2.0, Backend >=3.0, Python >=3.0, Database >=3.0, Frontend >=3.0.
Breaking-change: legacy форматы/алиасы удалены, обратная совместимость не поддерживается.

---

## 1. Общие принципы

1. Документация 2.0 — это **источник требований и архитектуры**.
2. Реальные репозитории должны:
 - содержать ссылку на релевантные .md-файлы,
 - по возможности повторять структуру (папки `backend/`, `firmware/`, `android/` и т.п.).

---

## 2. Примерное соответствие (логические зоны)

> Примечание: конкретные URL/имена репозиториев должны быть подставлены
> под фактическую инфраструктуру (GitHub/GitLab/локальный сервер).

### 2.1. Прошивка узлов

- Документация:
 - `02_HARDWARE_FIRMWARE/*`
- Репозитории:
 - `<firmware_ph_repo>` — прошивка pH-ноды;
 - `<firmware_ec_repo>` — прошивка EC-ноды;
 - `<firmware_climate_repo>` — прошивка климат-ноды;
 - `<firmware_light_repo>` — прошивка ноды света.

Каждый репозиторий должен иметь:

- ссылку на `../02_HARDWARE_FIRMWARE/ESP32_C_CODING_STANDARDS.md`;
- ссылку на `../02_HARDWARE_FIRMWARE/SDKCONFIG_PROFILES.md`;
- ссылку на специфику ноды (`PH_NODE_SPEC`, `EC_NODE_SPEC` и т.п., если есть).

### 2.2. Backend

- Документация:
 - `04_BACKEND_CORE/*`
 - `05_DATA_AND_STORAGE/*`
 - `03_TRANSPORT_MQTT/*`
- Репозиторий:
 - `<backend_repo>`

Внутри backend-репозитория:

- README с ссылками на:
 - `../04_BACKEND_CORE/BACKEND_ARCH_FULL.md`
 - `../05_DATA_AND_STORAGE/DATA_MODEL_REFERENCE.md`
 - `../03_TRANSPORT_MQTT/MQTT_SPEC_FULL.md`
 - `../03_TRANSPORT_MQTT/BACKEND_NODE_CONTRACT_FULL.md`

### 2.3. Android-приложение

- Документация:
 - `12_ANDROID_APP/*`
- Репозиторий:
 - `<android_app_repo>`

---

## 3. Тэги/ветки и версии

Рекомендуется:

- Для каждого релиза версии 2.0 создавать тег:
 - `v2.0.x-firmware-ph`
 - `v2.0.x-backend`
 - `v2.0.x-android`
- В документации хранить соответствие:
 - какая версия доков соответствует какому набору тегов в коде.

---

## 4. Требования к ИИ-агенту

1. При генерации инструкций/патчей указывать, в какой репозиторий и в какую папку
 они должны быть применены.
2. Не создавать новую структуру репозитория, если это не согласовано в документации.
