# –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á–µ—Ç –ø–æ –≠—Ç–∞–ø—É 2

–î–∞—Ç–∞: 2025-12-25

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
1. ‚úÖ **GrowCycleService::create()** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∞–ø—à–æ—Ç–æ–≤ —Ñ–∞–∑
2. ‚úÖ **GrowCycleService::advancePhase()** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∞–ø—à–æ—Ç–æ–≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–∑
3. ‚úÖ **GrowCycleService::setPhase()** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∞–ø—à–æ—Ç–æ–≤ –Ω–æ–≤—ã—Ö —Ñ–∞–∑
4. ‚úÖ **GrowCycleService::changeRecipeRevision()** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∞–ø—à–æ—Ç–æ–≤ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ä–µ–≤–∏–∑–∏–∏
5. ‚úÖ **GrowCycleUpdated event** - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω payload (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–æ–ª—è)

### –£–¥–∞–ª–µ–Ω–∏–µ legacy –∫–æ–¥–∞:
1. ‚úÖ **ZoneCycle** –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ **GrowCycle** –≤ `ZoneCommandController`
2. ‚úÖ –£–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç `ZoneRecipeInstance` –∏–∑ `GrowCycleService`

### –î–æ–±–∞–≤–ª–µ–Ω–æ:
- ‚úÖ –ú–µ—Ç–æ–¥ `createPhaseSnapshot()` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–Ω–∞–ø—à–æ—Ç–æ–≤ —Ñ–∞–∑ –∏–∑ —à–∞–±–ª–æ–Ω–æ–≤
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –∏ —Å–Ω–∞–ø—à–æ—Ç–∞–º–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω—ã, —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–Ω–∞–ø—à–æ—Ç—ã

## üìä –°—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ú–æ–¥–µ–ª–∏:
- ‚úÖ –í—Å–µ –Ω–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Relationships –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚ö†Ô∏è Legacy –º–æ–¥–µ–ª–∏ (`ZoneRecipeInstance`, `PlantCycle`, `ZoneCycle`) –≤—Å–µ –µ—â–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç, –Ω–æ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ

### –°–µ—Ä–≤–∏—Å—ã:
- ‚úÖ `EffectiveTargetsService` - –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ `GrowCycleService` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚ö†Ô∏è `ZoneService`, `RecipeService` - –≤—Å–µ –µ—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç legacy –º–æ–¥–µ–ª–∏ (—Ç—Ä–µ–±—É—é—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞)

### API:
- ‚úÖ –í—Å–µ –Ω–æ–≤—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ Legacy —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —É–¥–∞–ª–µ–Ω—ã

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
- ‚úÖ Policies —Å–æ–∑–¥–∞–Ω—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- ‚úÖ –í—Å–µ –º–µ—Ç–æ–¥—ã –∑–∞—â–∏—â–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –ø—Ä–∞–≤

### –°–æ–±—ã—Ç–∏—è –∏ –ª–æ–≥–∏:
- ‚úÖ –ó–∞–ø–∏—Å–∏ –≤ `grow_cycle_transitions` —Å–æ–∑–¥–∞—é—Ç—Å—è
- ‚úÖ –ó–∞–ø–∏—Å–∏ –≤ `zone_events` —Å–æ–∑–¥–∞—é—Ç—Å—è
- ‚úÖ WebSocket broadcast —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º payload

## ‚è≥ –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å

### Legacy –∫–æ–¥ (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
1. –ó–∞–º–µ–Ω–∏—Ç—å `ZoneRecipeInstance` –Ω–∞ `GrowCycle` –≤:
   - `ZoneService` (–º–µ—Ç–æ–¥—ã `attachRecipe`, `changePhase`, `nextPhase`)
   - `RecipeService` (–º–µ—Ç–æ–¥—ã `applyToZone`, `getActiveInstancesCount`)
   - `RecipeAnalyticsService`
   - `GrowCycleWizardController`
   - –î—Ä—É–≥–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∏ —Å–µ—Ä–≤–∏—Å—ã

2. –ó–∞–º–µ–Ω–∏—Ç—å `PlantCycle` –Ω–∞ `GrowCycle`:
   - –û–±–Ω–æ–≤–∏—Ç—å relationship –≤ `Plant` –º–æ–¥–µ–ª–∏

3. –£–¥–∞–ª–∏—Ç—å –º–æ–¥–µ–ª–∏ –ø–æ—Å–ª–µ –∑–∞–º–µ–Ω—ã –≤—Å–µ—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã.**
**–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π.**
**Legacy –∫–æ–¥ –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞.**

–≠—Ç–∞–ø 2 –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á.
–û—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏ –ø–æ —É–¥–∞–ª–µ–Ω–∏—é legacy –∫–æ–¥–∞ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ.

