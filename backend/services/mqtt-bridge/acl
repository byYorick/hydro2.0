# MQTT ACL (Access Control List) File
# Format: user <username>
#         topic [read|write|readwrite] <topic_pattern>
#
# Topic patterns support wildcards:
#   + - single level wildcard (e.g., hydro/+/telemetry)
#   # - multi-level wildcard (e.g., hydro/#)

# Python services - full access to hydro namespace
user python_service
topic readwrite hydro/#

# Automation engine - read telemetry, write commands
user automation_engine
topic read hydro/+/+/telemetry/#
topic read hydro/+/+/status/#
topic write hydro/+/+/commands/#
topic readwrite hydro/+/+/events/#

# ESP32 nodes - read/write their own topics
# Pattern: hydro/{greenhouse_uid}/{zone_uid}/{node_uid}/#
user esp32_node
topic readwrite hydro/+/+/esp32_node/#
topic write hydro/+/+/+/status
topic read hydro/+/+/+/command
topic read hydro/+/+/+/commands/#
topic read hydro/gh-temp/zn-temp/+/+/command

# History logger - read telemetry, write events
user history_logger
topic read hydro/+/+/telemetry/#
topic write hydro/+/+/events/#

# Scheduler - read/write commands and status
user scheduler
topic read hydro/+/+/status/#
topic write hydro/+/+/commands/#
topic read hydro/+/+/telemetry/#

# MQTT Bridge - full access (bridge between systems)
user mqtt_bridge
topic readwrite hydro/#

