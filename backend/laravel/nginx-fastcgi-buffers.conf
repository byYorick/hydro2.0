# Конфигурация для увеличения буферов FastCGI
# Решает проблему "upstream sent too big header while reading response header from upstream"
# Эта ошибка возникает, когда Laravel отправляет большие заголовки (например, с большим количеством cookies или данных сессии)

# Увеличиваем размер буферов для FastCGI
fastcgi_buffers 16 16k;
fastcgi_buffer_size 32k;
fastcgi_busy_buffers_size 64k;
fastcgi_temp_file_write_size 64k;

# Увеличиваем размер буфера для чтения ответа
fastcgi_read_timeout 600;

# Отключаем буферизацию для больших ответов (опционально)
# fastcgi_buffering off;

