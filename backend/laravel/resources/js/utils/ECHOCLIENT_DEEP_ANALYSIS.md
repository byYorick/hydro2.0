# –î–µ—Ç–∞–ª—å–Ω—ã–π –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ echoClient.ts

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ](#–æ–±—â–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#–æ—Å–Ω–æ–≤–Ω—ã–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
3. [–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è](#–∂–∏–∑–Ω–µ–Ω–Ω—ã–π-—Ü–∏–∫–ª)
4. [–ú–µ—Ö–∞–Ω–∏–∑–º—ã –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è](#–º–µ—Ö–∞–Ω–∏–∑–º—ã-–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)
5. [–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π](#–æ–±—Ä–∞–±–æ—Ç–∫–∞-–æ—à–∏–±–æ–∫)
6. [–ü—Ä–æ–±–ª–µ–º–Ω–∞—è –æ–±–ª–∞—Å—Ç—å: wsPath](#–ø—Ä–æ–±–ª–µ–º–Ω–∞—è-–æ–±–ª–∞—Å—Ç—å-wspath)
7. [–£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –∏ —Ç–∞–π–º–µ—Ä—ã](#—É—Ç–µ—á–∫–∏-–ø–∞–º—è—Ç–∏)
8. [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏](#–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
9. [–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏](#–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–æ–±–ª–µ–º—ã)
10. [–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é](#—É–ª—É—á—à–µ–Ω–∏—è)

---

## –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ

### –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–¥—É–ª—è
`echoClient.ts` - —ç—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ Laravel Echo –∏ Pusher-js. –û–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–º Echo
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–∞—Ö
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è

### –¢–∏–ø—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
```typescript
type WsState = 'connecting' | 'connected' | 'disconnected' | 'unavailable' | 'failed'
```

**–ê–Ω–∞–ª–∏–∑ —Å–æ—Å—Ç–æ—è–Ω–∏–π:**
- `connecting` - –Ω–∞—á–∞–ª—å–Ω–∞—è —Ñ–∞–∑–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `connected` - —É—Å–ø–µ—à–Ω–æ–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- `disconnected` - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–∑–æ—Ä–≤–∞–Ω–æ
- `unavailable` - —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (—Ç—Ä–∞–Ω–∑–∏—Ç–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)
- `failed` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### 1. –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥—É–ª—è

```typescript
// –°–æ—Å—Ç–æ—è–Ω–∏—è
let currentState: WsState = 'disconnected'
let echoInstance: Echo | null = null
let initializing = false
let reconnectAttempts = 0
let isReconnecting = false
let connectingStartTime = 0

// –¢–∞–π–º–µ—Ä—ã
let reconnectTimer: ReturnType<typeof setTimeout> | null = null
let reconnectLockUntil = 0
const activeTimers = new Set<ActiveTimer>()

// –°–ª—É—à–∞—Ç–µ–ª–∏ –∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
const listeners = new Set<StateListener>()
let connectionHandlers: ConnectionHandler[] = []
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–µ–ª–∞—é—Ç –º–æ–¥—É–ª—å –Ω–µ–∏–¥–∏–æ–º–∞—Ç–∏—á–Ω—ã–º –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- ‚ö†Ô∏è `activeTimers` - —Å–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º —Ç–∞–π–º–µ—Ä–æ–≤
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —è–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è –∑–∞ —É—Ç–µ—á–∫–∞–º–∏ –ø–∞–º—è—Ç–∏ –ø—Ä–∏ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è—Ö

### 2. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```typescript
const BASE_RECONNECT_DELAY = 3000      // 3 —Å–µ–∫—É–Ω–¥—ã –±–∞–∑–æ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
const RECONNECT_MULTIPLIER = 1.5       // –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ä–æ—Å—Ç
const MAX_RECONNECT_DELAY = 60000      // –ú–∞–∫—Å–∏–º—É–º 60 —Å–µ–∫—É–Ω–¥
```

**–ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π backoff (3s ‚Üí 4.5s ‚Üí 6.75s ‚Üí ... ‚Üí 60s max)
- ‚úÖ –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –ø—Ä–æ–±–ª–µ–º
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç jitter (—Å–ª—É—á–∞–π–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ), —á—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å thundering herd

---

## –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (`initEcho`)

#### –®–∞–≥–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   ```typescript
   if (!isBrowser()) return null
   if (!wsEnabled) return null
   ```

2. **–ó–∞—â–∏—Ç–∞ –æ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–π**
   ```typescript
   if (initializing) return echoInstance
   ```
   - ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—ã–∑–æ–≤–∞—Ö –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å `null` –≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–Ω–∏—è

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ HMR (Hot Module Replacement)**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `window.Echo`
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É HMR-—Ü–∏–∫–ª–∞–º–∏
   - ‚úÖ –•–æ—Ä–æ—à–æ –ø—Ä–æ—Ä–∞–±–æ—Ç–∞–Ω–æ –¥–ª—è dev-—Ä–µ–∂–∏–º–∞

4. **–°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (`buildEchoConfig`)**
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã (http/https)
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ö–æ—Å—Ç–∞ –∏ –ø–æ—Ä—Ç–∞
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—É—Ç–∏ (`wsPath`)
   - ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê**: –°–º. —Ä–∞–∑–¥–µ–ª [wsPath](#–ø—Ä–æ–±–ª–µ–º–Ω–∞—è-–æ–±–ª–∞—Å—Ç—å-wspath)

5. **–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Echo**
   ```typescript
   echoInstance = new Echo(config)
   ```

6. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ wsPath (–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Å—Ç–∞)**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ 5+ –º–µ—Å—Ç–∞—Ö
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Object.defineProperty` –¥–ª—è –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
   - üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê**: –°–º. —Ä–∞–∑–¥–µ–ª –Ω–∏–∂–µ

7. **–ü—Ä–∏–≤—è–∑–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π (`bindConnectionEvents`)**

8. **–Ø–≤–Ω—ã–π –≤—ã–∑–æ–≤ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (`attemptConnect`)**
   - –ù–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ø—ã—Ç–æ–∫ —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏
   - –ú–∞–∫—Å–∏–º—É–º 5 –ø–æ–ø—ã—Ç–æ–∫

### –§–∞–∑–∞ 2: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (`bindConnectionEvents`)

#### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:

1. **`connecting`** (—Å—Ç—Ä–æ–∫–∞ 552)
   - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `connectingStartTime`
   - –ó–∞–ø—É—Å–∫ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ `socketId`
   - –¢–∞–π–º–∞—É—Ç 15 —Å–µ–∫—É–Ω–¥

2. **`connected`** (—Å—Ç—Ä–æ–∫–∞ 622)
   - –°–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–æ–≤ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `socketId`
   - –ó–∞–¥–µ—Ä–∂–∫–∞ 500ms –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `socketId`

3. **`disconnected`** (—Å—Ç—Ä–æ–∫–∞ 661)
   - –ò–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω–µ `connecting`)

4. **`unavailable`** (—Å—Ç—Ä–æ–∫–∞ 678)
   - Cooldown 10 —Å–µ–∫—É–Ω–¥
   - –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–∂–∏–¥–∞–Ω–∏—è –≤–æ –≤—Ä–µ–º—è `connecting`
   - –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ –æ–∂–∏–¥–∞–Ω–∏–µ

5. **`failed`** (—Å—Ç—Ä–æ–∫–∞ 781)
   - –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

6. **`error`** (—Å—Ç—Ä–æ–∫–∞ 791)
   - –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏ –æ—à–∏–±–∫–∏

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∞–π–º–µ—Ä—ã –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö –±–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è `unavailable` - —Ç—Ä—É–¥–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ `socketId` —Å –∑–∞–¥–µ—Ä–∂–∫–∞–º–∏ –º–æ–∂–µ—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –º–æ–º–µ–Ω—Ç –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è

### –§–∞–∑–∞ 3: –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (`scheduleReconnect`)

#### –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**
   ```typescript
   if (now < reconnectLockUntil) return
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è**
   - –ï—Å–ª–∏ —É–∂–µ `connected` –∏–ª–∏ `connecting` - –ø—Ä–æ–ø—É—Å–∫

3. **–†–∞—Å—á–µ—Ç –∑–∞–¥–µ—Ä–∂–∫–∏**
   - –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π backoff
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º—É–º–æ–º

4. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
   - –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä–µ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –≥–æ–Ω–∫–∞ —É—Å–ª–æ–≤–∏–π –ø—Ä–∏ –±—ã—Å—Ç—Ä—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ—Ç–º–µ–Ω–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

### –§–∞–∑–∞ 4: –†–∞–∑—Ä—É—à–µ–Ω–∏–µ (`teardownEcho`)

#### –ü—Ä–æ—Ü–µ—Å—Å –æ—á–∏—Å—Ç–∫–∏:

1. –û—Ç–º–µ–Ω–∞ —Ç–∞–π–º–µ—Ä–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
2. –û—á–∏—Å—Ç–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
3. –û—Ç–º–µ–Ω–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ç–∞–π–º–µ—Ä–æ–≤
4. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ Echo –∏ Pusher
5. –û—á–∏—Å—Ç–∫–∞ `window.Echo`
6. –°–±—Ä–æ—Å —Ñ–ª–∞–≥–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è
7. –û—á–∏—Å—Ç–∫–∞ –∫–∞–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ `cleanupWebSocketChannels`
8. –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è `echo:teardown`

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚úÖ –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω
- ‚ö†Ô∏è –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç `cleanupWebSocketChannels` –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## –ú–µ—Ö–∞–Ω–∏–∑–º—ã –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π Backoff

```
–ü–æ–ø—ã—Ç–∫–∞ 1: 3s
–ü–æ–ø—ã—Ç–∫–∞ 2: 4.5s
–ü–æ–ø—ã—Ç–∫–∞ 3: 6.75s
–ü–æ–ø—ã—Ç–∫–∞ 4: 10.125s
...
–ú–∞–∫—Å–∏–º—É–º: 60s
```

### –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```typescript
reconnectLockUntil = now + delay
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç —É—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –∑–∞–¥–µ—Ä–∂–∫–∏
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–º –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º

### –õ–æ–≥–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ `initializing`
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ `echoInstance`
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (`connected`, `connecting`)

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ - —Ç—Ä—É–¥–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã –≥–æ–Ω–∫–∏ —É—Å–ª–æ–≤–∏–π

---

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π

### –¢–∏–ø—ã –æ—à–∏–±–æ–∫

```typescript
interface ConnectionError {
  message: string
  code?: number
  timestamp: number
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `logger`
- ‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤ –∫–∞–∂–¥–æ–º –ª–æ–≥–µ
- ‚úÖ –†–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ (debug, info, warn, error)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –æ—à–∏–±–æ–∫

1. **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ `error`**
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç–∏

2. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏**
   - `PusherError`
   - `PUSHER_ERROR`
   - –û—à–∏–±–∫–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫ (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ vs –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)

---

## –ü—Ä–æ–±–ª–µ–º–Ω–∞—è –æ–±–ª–∞—Å—Ç—å: wsPath

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç **–º–∞—Å—Å–∏–≤–Ω—ã–π** –∫–æ–¥ (–±–æ–ª–µ–µ 400 —Å—Ç—Ä–æ–∫, ~25% —Ñ–∞–π–ª–∞) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `wsPath`. –≠—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.

### –ü—Ä–æ–±–ª–µ–º–∞

Laravel Echo/Pusher-js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `wsPath: '/app'`, —á—Ç–æ —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:
```
‚ùå ws://host:port/app/app/{app_key}  // –î–≤–æ–π–Ω–æ–π /app
‚úÖ ws://host:port/app/{app_key}      // –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å
```

### –†–µ—à–µ–Ω–∏—è –≤ –∫–æ–¥–µ

1. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥–µ**
   ```typescript
   echoConfig.wsPath = ""
   ```

2. **–ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è Echo**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ 5+ –º–µ—Å—Ç: `connector.options`, `pusher.config`, `pusher.options`, `pusher._options`, `connection.options`
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –º–µ—Å—Ç–∞

3. **–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Object.defineProperty**
   - –ì–µ—Ç—Ç–µ—Ä –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `""`
   - –°–µ—Ç—Ç–µ—Ä –±–ª–æ–∫–∏—Ä—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É `'/app'`

4. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É!)**
   ```typescript
   const wsPathChecker = setInterval(() => {
     // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –º–µ—Å—Ç
   }, 1000)
   ```

5. **–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**
   - –ü–æ—Å–ª–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
   - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –ü–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ?

1. **–ò–∑–±—ã—Ç–æ—á–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**
   - 400+ —Å—Ç—Ä–æ–∫ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –æ–¥–Ω–æ–π –ø—Ä–æ–±–ª–µ–º—ã
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤
   - –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ —á–µ—Ä–µ–∑ `defineProperty`

3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**
   - –ï—Å–ª–∏ Pusher-js –∏–∑–º–µ–Ω–∏—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∫–æ–¥ —Å–ª–æ–º–∞–µ—Ç—Å—è
   - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–≤–æ–π—Å—Ç–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
   - –•—Ä—É–ø–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ

4. **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**
   - –¢—Ä—É–¥–Ω–æ –ø–æ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É
   - –¢—Ä—É–¥–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
   - –¢—Ä—É–¥–Ω–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

–ü—Ä–æ–±–ª–µ–º–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞:
1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Reverb –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
2. –ö–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –º–µ–∂–¥—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π Laravel Echo –∏ Reverb
3. –û–∂–∏–¥–∞–Ω–∏–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Pusher-js

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –Ω–∞ –±—ç–∫–µ–Ω–¥–µ**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Reverb
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –ø—É—Ç—å `/app` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

2. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å –∫–æ–¥**
   - –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
   - –£–¥–∞–ª–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–∫—É –≤ –∫–æ–Ω—Ñ–∏–≥–µ

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞—Å—Ç–æ–º–Ω—ã–π connector –¥–ª—è Echo
   - –ü–∞—Ç—á –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ Pusher-js
   - –§–æ—Ä–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º

---

## –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –∏ —Ç–∞–π–º–µ—Ä—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞–º–∏

#### 1. –¢–∞–π–º–µ—Ä –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```typescript
let reconnectTimer: ReturnType<typeof setTimeout> | null = null
```
- ‚úÖ –û—á–∏—â–∞–µ—Ç—Å—è –≤ `teardownEcho`
- ‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ –æ—á–∏—â–µ–Ω –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

#### 2. –ê–∫—Ç–∏–≤–Ω—ã–µ —Ç–∞–π–º–µ—Ä—ã
```typescript
const activeTimers = new Set<ActiveTimer>()
```
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç–∞–π–º–µ—Ä–æ–≤ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö
- –û—á–∏—â–∞–µ—Ç—Å—è –ø—Ä–∏ –Ω–æ–≤–æ–π –ø—Ä–∏–≤—è–∑–∫–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `AbortController` –¥–ª—è –æ—Ç–º–µ–Ω—ã

#### 3. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ wsPath
```typescript
const wsPathChecker = setInterval(() => { ... }, 1000)
```
- üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê**: –ù–µ –æ—á–∏—â–∞–µ—Ç—Å—è —è–≤–Ω–æ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- –û—á–∏—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –ú–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ—Å–ª–µ `teardownEcho`

#### 4. –¢–∞–π–º–µ—Ä—ã –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ `setTimeout` –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `AbortController`, –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –Ω–µ—Ç
- ‚ö†Ô∏è –ú–æ–≥—É—Ç –Ω–µ –æ—á–∏—Å—Ç–∏—Ç—å—Å—è –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏

### –ü—Ä–æ–±–ª–µ–º—ã

1. **–£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ –æ—Ç —Ç–∞–π–º–µ—Ä–∞ wsPath**
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫
   - –û—á–∏—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —è–≤–Ω–æ–º –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

2. **–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–æ–≤**
   - –ü—Ä–∏ —á–∞—Å—Ç—ã—Ö –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è—Ö –º–æ–≥—É—Ç –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å—Å—è —Ç–∞–π–º–µ—Ä—ã
   - –ù–µ –≤—Å–µ —Ç–∞–π–º–µ—Ä—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `activeTimers`

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è**
   - –¢–∞–π–º–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
   - –ù–µ—Ç –µ–¥–∏–Ω–æ–π —Ç–æ—á–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—è

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Ç–∞–π–º–µ—Ä–æ–≤
2. –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—á–∏—Å—Ç–∫—É –≤—Å–µ—Ö —Ç–∞–π–º–µ—Ä–æ–≤ –≤ `teardownEcho`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `AbortController` –¥–ª—è –≤—Å–µ—Ö —Ç–∞–π–º–µ—Ä–æ–≤
4. –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É wsPath

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

### 1. bootstrap.js

**–°–≤—è–∑—å:**
- `bootstrap.js` –≤—ã–∑—ã–≤–∞–µ—Ç `initEcho()` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è `echo:teardown`
- –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–ª–∞–≥–∞–º–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ö†Ô∏è –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

### 2. useWebSocket.ts

**–°–≤—è–∑—å:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `onWsStateChange()` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `getEchoInstance()` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Echo
- –í—ã–∑—ã–≤–∞–µ—Ç `cleanupWebSocketChannels()` –ø—Ä–∏ teardown

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚úÖ –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚ö†Ô∏è –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç `cleanupWebSocketChannels` –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º

### 3. useSystemStatus.ts

**–°–≤—è–∑—å:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `getConnectionState()` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `onWsStateChange()` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–≤—è–∑–Ω–æ—Å—Ç—å

### 4. HeaderStatusBar.vue

**–°–≤—è–∑—å:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `onWsStateChange()` –¥–ª—è UI-–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚úÖ –•–æ—Ä–æ—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **wsPath - –∏–∑–±—ã—Ç–æ—á–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô
   - **–í–ª–∏—è–Ω–∏–µ**: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∫–∞
   - **–†–µ—à–µ–Ω–∏–µ**: –°–º. —Ä–∞–∑–¥–µ–ª [wsPath](#–ø—Ä–æ–±–ª–µ–º–Ω–∞—è-–æ–±–ª–∞—Å—Ç—å-wspath)

2. **–£—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ –æ—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ wsPath**
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –í–´–°–û–ö–ò–ô
   - **–í–ª–∏—è–Ω–∏–µ**: –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
   - **–†–µ—à–µ–Ω–∏–µ**: –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É, —É–ª—É—á—à–∏—Ç—å –æ—á–∏—Å—Ç–∫—É

3. **–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–†–ï–î–ù–ò–ô
   - **–í–ª–∏—è–Ω–∏–µ**: –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∫–∞
   - **–†–µ—à–µ–Ω–∏–µ**: –£–ø—Ä–æ—Å—Ç–∏—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã

4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞–º–∏**
   - **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: –°–†–ï–î–ù–ò–ô
   - **–í–ª–∏—è–Ω–∏–µ**: –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
   - **–†–µ—à–µ–Ω–∏–µ**: –°–æ–∑–¥–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä —Ç–∞–π–º–µ—Ä–æ–≤

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

5. **–ì–æ–Ω–∫–∏ —É—Å–ª–æ–≤–∏–π –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**
   - –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å
   - –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–¥–∏–Ω—ã–π —Ñ–ª–∞–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è

6. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ jitter –≤ backoff**
   - –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å thundering herd
   - –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ

7. **–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è `unavailable`**
   - –¢—Ä—É–¥–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
   - –†–µ—à–µ–Ω–∏–µ: –£–ø—Ä–æ—Å—Ç–∏—Ç—å, –≤—ã–Ω–µ—Å—Ç–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é

8. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç `cleanupWebSocketChannels`**
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º
   - –†–µ—à–µ–Ω–∏–µ: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç

---

## –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ wsPath

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- 400+ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
```typescript
// –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è
function buildEchoConfig(): Record<string, unknown> {
  const config = {
    // ... –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
    wsPath: "", // –Ø–≤–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É
  }
  
  // –û–î–ù–ê –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
  const fixWsPath = (instance: Echo) => {
    const pusher = instance.connector?.pusher
    if (pusher?.config?.wsPath === '/app') {
      pusher.config.wsPath = ""
    }
  }
  
  return config
}
```

### 2. –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä —Ç–∞–π–º–µ—Ä–æ–≤

```typescript
class TimerManager {
  private timers = new Set<ReturnType<typeof setTimeout>>()
  private intervals = new Set<ReturnType<typeof setInterval>>()
  
  setTimeout(callback: () => void, delay: number) {
    const timer = setTimeout(() => {
      this.timers.delete(timer)
      callback()
    }, delay)
    this.timers.add(timer)
    return timer
  }
  
  clearAll() {
    this.timers.forEach(clearTimeout)
    this.intervals.forEach(clearInterval)
    this.timers.clear()
    this.intervals.clear()
  }
}
```

### 3. –£–ø—Ä–æ—â–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```typescript
class ReconnectionManager {
  private shouldReconnect(): boolean {
    if (this.isConnected()) return false
    if (this.isConnecting()) return false
    if (this.isLocked()) return false
    return true
  }
  
  private reconnect() {
    if (!this.shouldReconnect()) return
    
    const delay = this.calculateDelay()
    this.lock(delay)
    
    setTimeout(() => {
      if (this.shouldReconnect()) {
        this.connect()
      }
    }, delay)
  }
}
```

### 4. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ jitter –≤ backoff

```typescript
function calculateReconnectDelay(attempt: number): number {
  const baseDelay = BASE_RECONNECT_DELAY * Math.pow(RECONNECT_MULTIPLIER, attempt - 1)
  const maxDelay = Math.min(baseDelay, MAX_RECONNECT_DELAY)
  const jitter = Math.random() * maxDelay * 0.1 // 10% jitter
  return Math.floor(maxDelay + jitter)
}
```

### 5. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫

```typescript
enum ErrorType {
  TRANSIENT = 'transient',    // –í—Ä–µ–º–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
  CRITICAL = 'critical',      // –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞, —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
  FATAL = 'fatal'             // –§–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞, —Ç—Ä–µ–±—É–µ—Ç –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
}

function classifyError(error: ConnectionError): ErrorType {
  if (error.code === 'NETWORK_ERROR') return ErrorType.TRANSIENT
  if (error.code === 'AUTHORIZATION_ERROR') return ErrorType.CRITICAL
  if (error.message.includes('fatal')) return ErrorType.FATAL
  return ErrorType.CRITICAL
}
```

### 6. –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```typescript
// –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
export function __setEchoInstance(instance: Echo | null) {
  echoInstance = instance
}

export function __getInternalState() {
  return {
    currentState,
    reconnectAttempts,
    isReconnecting,
    // ... –¥—Ä—É–≥–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  }
}
```

---

## –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞**: ~1560
- **–°—Ç—Ä–æ–∫ –¥–ª—è wsPath**: ~400 (25%)
- **–°—Ç—Ä–æ–∫ –¥–ª—è –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**: ~200 (13%)
- **–°—Ç—Ä–æ–∫ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**: ~150 (10%)

### –°–ª–æ–∂–Ω–æ—Å—Ç—å
- **–¶–∏–∫–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ—É–Ω–∫—Ü–∏–π**: 20+
- **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**: 10+
- **–¢–∞–π–º–µ—Ä—ã**: 5+ —Ç–∏–ø–æ–≤

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `laravel-echo`
- `pusher-js`
- `./logger`
- `./env`
- `../composables/useWebSocket` (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç)

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–§–∞–π–ª `echoClient.ts` –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–ª–æ–∂–Ω—ã–π –º–æ–¥—É–ª—å —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Ñ—É–Ω–∫—Ü–∏–π –∏ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ò–∑–±—ã—Ç–æ—á–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º—ã wsPath** - —Ç—Ä–µ–±—É–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
2. **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏** - —Ç—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞–º–∏
3. **–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è** - —Ç—Ä–µ–±—É–µ—Ç —É–ø—Ä–æ—â–µ–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º:**

1. üî¥ **–ö–†–ò–¢–ò–ß–ù–û**: –†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É wsPath –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∞ –Ω–µ —á–µ—Ä–µ–∑ —Ö–∞–∫–∏
2. üü° **–í–ê–ñ–ù–û**: –£–ø—Ä–æ—Å—Ç–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
3. üü° **–í–ê–ñ–ù–û**: –£–ª—É—á—à–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞–º–∏
4. üü¢ **–ñ–ï–õ–ê–¢–ï–õ–¨–ù–û**: –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
5. üü¢ **–ñ–ï–õ–ê–¢–ï–õ–¨–ù–û**: –î–æ–±–∞–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

*–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω: 2024*
*–í–µ—Ä—Å–∏—è —Ñ–∞–π–ª–∞: 1560 —Å—Ç—Ä–æ–∫*

