# –ê—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–∞—Ç–∞: 2025-01-27

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –ì–æ—Ç–æ–≤–æ (MVP_DONE)

#### Backend (Laravel)
- ‚úÖ –ú–æ–¥–µ–ª–∏ –∑–æ–Ω, –Ω–æ–¥, —Ä–µ—Ü–µ–ø—Ç–æ–≤
- ‚úÖ REST API v1
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è/–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- ‚úÖ WebSocket/Realtime-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- ‚úÖ –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –∏ —Å–∏–¥—ã
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Python-—Å–µ—Ä–≤–∏—Å–∞–º–∏

#### Python-—Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ `history-logger` ‚Äî –∑–∞–ø–∏—Å—å —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏
- ‚úÖ `automation-engine` ‚Äî –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–æ–Ω
- ‚úÖ `scheduler` ‚Äî —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ `mqtt-bridge` ‚Äî REST‚ÜíMQTT –º–æ—Å—Ç
- ‚úÖ –¢–µ—Å—Ç—ã (pytest)

#### Frontend (Vue 3 + Inertia)
- ‚úÖ –≠–∫—Ä–∞–Ω –æ–±–∑–æ—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –≠–∫—Ä–∞–Ω –¥–µ—Ç–∞–ª–∏ –∑–æ–Ω—ã
- ‚úÖ –ì—Ä–∞—Ñ–∏–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏
- ‚úÖ –≠–∫—Ä–∞–Ω –∞–≤–∞—Ä–∏–π/—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –¢–µ—Å—Ç—ã (unit/component/e2e)

#### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ CI/CD-–∫–æ–Ω–≤–µ–π–µ—Ä (GitHub Actions)
- ‚úÖ Docker-compose –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

---

### ‚ö†Ô∏è –í –ø—Ä–æ—Ü–µ—Å—Å–µ / PLANNED

#### Firmware (ESP32)
- ‚ö†Ô∏è `pump_node` ‚Äî —Å–∫–µ–ª–µ—Ç —Å–æ–∑–¥–∞–Ω, —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ
- ‚ùå `ph_node` ‚Äî PLANNED
- ‚ùå `ec_node` ‚Äî PLANNED
- ‚ùå `climate_node` ‚Äî PLANNED
- ‚ùå –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (i2c_bus, ina209, oled_display –∏ —Ç.–¥.) ‚Äî PLANNED

#### Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚ùå –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è ‚Äî PLANNED
- ‚ùå –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ ‚Äî PLANNED
- ‚ùå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî PLANNED

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è
- ‚ùå Grafana/–¥–∞—à–±–æ—Ä–¥—ã ‚Äî PLANNED
- ‚ùå –ê–ª–µ—Ä—Ç—ã ‚Äî PLANNED
- ‚ùå –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî PLANNED

---

## üéØ –ê–Ω–∞–ª–∏–∑ –ø–æ —ç—Ç–∞–ø–∞–º Roadmap

### –≠—Ç–∞–ø 0: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ ‚úÖ –ó–ê–í–ï–†–®–ï–ù
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ –ö–æ–Ω–≤–µ–Ω—Ü–∏–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–∏–Ω—è—Ç—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

### –≠—Ç–∞–ø 1: MVP –¥–ª—è –æ–¥–Ω–æ–π —Ç–µ–ø–ª–∏—Ü—ã ‚ö†Ô∏è –í –ü–†–û–¶–ï–°–°–ï

**–ß—Ç–æ –≥–æ—Ç–æ–≤–æ:**
- ‚úÖ MQTT + –±–∞–∑–æ–≤—ã–µ Python-—Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ –ë–∞–∑–æ–≤—ã–π backend + –≤–µ–± UI
- ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

**–ß—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- ‚ùå **Firmware –Ω–æ–¥—ã** ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω—ã–π –±–ª–æ–∫–µ—Ä!
  - –ù—É–∂–Ω—ã: ph_node, ec_node, climate_node, irrigation_node (pump_node)
  - –ë–µ–∑ –Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º

**–ß—Ç–æ –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ:**
- ‚ö†Ô∏è –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚ö†Ô∏è –ë–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –ø—É—Ç—å –¥–ª—è MVP

### –ë–ª–æ–∫–µ—Ä #1: Firmware –Ω–æ–¥—ã

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–µ–∑ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö ESP32-–Ω–æ–¥ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ –º–æ–∂–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- `pump_node` ‚Äî —Ç–æ–ª—å–∫–æ —Å–∫–µ–ª–µ—Ç (placeholder-–∫–æ–¥)
- –û—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–æ–¥—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

**–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è MVP:**
1. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):
   - `mqtt_client` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MQTT, –ø–æ–¥–ø–∏—Å–∫–∏, –ø—É–±–ª–∏–∫–∞—Ü–∏—è
   - `config_storage` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ NodeConfig –∏–∑ NVS
   - `i2c_bus` ‚Äî –±–∞–∑–æ–≤—ã–π I¬≤C –¥—Ä–∞–π–≤–µ—Ä
   - `logging` ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `pump_node` (irrigation_node):
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å–æ—Å–∞–º–∏
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å INA209 –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–æ–∫–∞
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ –∏–∑ MQTT
   - –û—Ç–ø—Ä–∞–≤–∫–∞ command_response —Å ACK/ERROR
   - SAFE_MODE –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Å–µ–Ω—Å–æ—Ä–Ω—ã–µ –Ω–æ–¥—ã:
   - `ph_node` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ (—á—Ç–µ–Ω–∏–µ pH, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏)
   - `ec_node` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ (—á—Ç–µ–Ω–∏–µ EC, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏)
   - `climate_node` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–æ (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞/–≤–ª–∞–∂–Ω–æ—Å—Ç—å)

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP (2-4 –Ω–µ–¥–µ–ª–∏)

#### –®–∞–≥ 1.1: –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã firmware (1 –Ω–µ–¥–µ–ª—è)
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–ª—è –≤—Å–µ—Ö –Ω–æ–¥

**–ó–∞–¥–∞—á–∏:**
1. `mqtt_client` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MQTT –±—Ä–æ–∫–µ—Ä—É
   - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–æ–ø–∏–∫–∏ (`config`, `command`)
   - –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏, status, heartbeat
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç
   - –°–º. `doc_ai/03_TRANSPORT_MQTT/MQTT_SPEC_FULL.md`

2. `config_storage` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –ó–∞–≥—Ä—É–∑–∫–∞ NodeConfig –∏–∑ NVS
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
   - –°–º. `firmware/NODE_CONFIG_SPEC.md`

3. `i2c_bus` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –ë–∞–∑–æ–≤—ã–π I¬≤C –¥—Ä–∞–π–≤–µ—Ä —Å mutex
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ —à–∏–Ω–µ
   - –°–º. `doc_ai/02_HARDWARE_FIRMWARE/ESP32_C_CODING_STANDARDS.md`

4. `logging` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
   - –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ ESP_LOG —Å —É—Ä–æ–≤–Ω—è–º–∏
   - –¢–µ–≥–∏ –¥–ª—è –º–æ–¥—É–ª–µ–π
   - –°–º. `doc_ai/DEV_CONVENTIONS.md`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –Ω–æ–¥–∞—Ö

---

#### –®–∞–≥ 1.2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è pump_node (irrigation_node) (1-2 –Ω–µ–¥–µ–ª–∏)
**–¶–µ–ª—å:** –†–∞–±–æ—á–∞—è –Ω–∞—Å–æ—Å–Ω–∞—è –Ω–æ–¥–∞ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ INA209

**–ó–∞–¥–∞—á–∏:**
1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `mqtt_client`
   - –ó–∞–≥—Ä—É–∑–∫–∞ `config_storage`
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `i2c_bus`

2. –î—Ä–∞–π–≤–µ—Ä INA209:
   - –ß—Ç–µ–Ω–∏–µ —Ç–æ–∫–∞ —á–µ—Ä–µ–∑ I¬≤C
   - –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π
   - –°–º. `doc_ai/02_HARDWARE_FIRMWARE/TASK_INA209_PUMP_NODE.md`

3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å–æ—Å–∞–º–∏:
   - GPIO –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ª–µ/–¥—Ä–∞–π–≤–µ—Ä–∞–º–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ `run_pump` –∏–∑ MQTT
   - –¢–∞–π–º–µ—Ä—ã –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã

4. –õ–æ–≥–∏–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:
   - –ò–∑–º–µ—Ä–µ–Ω–∏–µ —Ç–æ–∫–∞ –¥–æ/–ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ ACK/ERROR –ø–æ —Ç–æ–∫—É
   - –û—Ç–ø—Ä–∞–≤–∫–∞ `command_response` –≤ MQTT
   - –ö–æ–¥—ã –æ—à–∏–±–æ–∫: `current_not_detected`, `overcurrent`

5. SAFE_MODE:
   - –ü–µ—Ä–µ—Ö–æ–¥ –≤ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–æ–º–∞–Ω–¥ –¥–æ —Å–±—Ä–æ—Å–∞

6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
   - –¢–µ—Å—Ç –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ (—É—Å–ø–µ—Ö, –æ—à–∏–±–∫–∏, –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—á–∞—è pump_node, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∞—Å–æ—Å–∞–º–∏ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- ‚úÖ –ù–∞—Å–æ—Å –≤–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ –∫–æ–º–∞–Ω–¥–µ
- ‚úÖ –¢–æ–∫ –∏–∑–º–µ—Ä—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ INA209
- ‚úÖ command_response –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Å—Ç–∞—Ç—É—Å–æ–º
- ‚úÖ SAFE_MODE —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

---

#### –®–∞–≥ 1.3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è ph_node (1 –Ω–µ–¥–µ–ª—è)
**–¶–µ–ª—å:** –ë–∞–∑–æ–≤–∞—è pH-–Ω–æ–¥–∞ –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏

**–ó–∞–¥–∞—á–∏:**
1. –î—Ä–∞–π–≤–µ—Ä pH-–¥–∞—Ç—á–∏–∫–∞:
   - –ß—Ç–µ–Ω–∏–µ –∞–Ω–∞–ª–æ–≥–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ pH (–ª–∏–Ω–µ–π–Ω–∞—è –∏–ª–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞)
   - –°–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø–æ –¥–∞—Ç—á–∏–∫—É

2. –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –æ–ø—Ä–æ—Å –¥–∞—Ç—á–∏–∫–∞ (–ø–æ NodeConfig)
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏ –≤ MQTT
   - –°—Ç–∞—Ç—É—Å –Ω–∞ OLED (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ (–±–∞–∑–æ–≤–∞—è):
   - 2-3 —Ç–æ—á–∫–∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ NVS

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—á–∞—è ph_node, –æ—Ç–ø—Ä–∞–≤–ª—è—é—â–∞—è —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é

---

#### –®–∞–≥ 1.4: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è ec_node (1 –Ω–µ–¥–µ–ª—è)
**–¶–µ–ª—å:** –ë–∞–∑–æ–≤–∞—è EC-–Ω–æ–¥–∞ –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —ç–ª–µ–∫—Ç—Ä–æ–ø—Ä–æ–≤–æ–¥–Ω–æ—Å—Ç–∏

**–ó–∞–¥–∞—á–∏:**
1. –î—Ä–∞–π–≤–µ—Ä EC-–¥–∞—Ç—á–∏–∫–∞:
   - –ß—Ç–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
   - –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è –ø–æ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ (–µ—Å–ª–∏ –µ—Å—Ç—å –¥–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã)

2. –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –æ–ø—Ä–æ—Å
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—á–∞—è ec_node

---

#### –®–∞–≥ 1.5: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è climate_node (1 –Ω–µ–¥–µ–ª—è)
**–¶–µ–ª—å:** –ë–∞–∑–æ–≤–∞—è –∫–ª–∏–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ–¥–∞

**–ó–∞–¥–∞—á–∏:**
1. –î—Ä–∞–π–≤–µ—Ä—ã —Å–µ–Ω—Å–æ—Ä–æ–≤:
   - SHT3x (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞/–≤–ª–∞–∂–Ω–æ—Å—Ç—å)
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: CO‚ÇÇ, –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç—å

2. –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –æ–ø—Ä–æ—Å –≤—Å–µ—Ö —Å–µ–Ω—Å–æ—Ä–æ–≤
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞–±–æ—á–∞—è climate_node

---

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í–∞–∂–Ω–æ –¥–ª—è MVP (1-2 –Ω–µ–¥–µ–ª–∏)

#### –®–∞–≥ 2.1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã –≤ docker-compose

**–ó–∞–¥–∞—á–∏:**
- –¢–µ—Å—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è Python-—Å–µ—Ä–≤–∏—Å–æ–≤
- –¢–µ—Å—Ç—ã MQTT –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Laravel

#### –®–∞–≥ 2.2: –ë–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
**–¶–µ–ª—å:** –í–∏–¥–∏–º–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã

**–ó–∞–¥–∞—á–∏:**
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Grafana
- –ë–∞–∑–æ–≤—ã–µ –¥–∞—à–±–æ—Ä–¥—ã
- –ê–ª–µ—Ä—Ç—ã –ø–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º –º–µ—Ç—Ä–∏–∫–∞–º

#### –®–∞–≥ 2.3: Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ)
**–¶–µ–ª—å:** –ë–∞–∑–æ–≤—ã–π –º–æ–±–∏–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø

**–ó–∞–¥–∞—á–∏:**
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–æ–Ω
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–≤–∞—Ä–∏–π

---

## üéØ –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ù–∞—á–∞—Ç—å —Å –æ–±—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ firmware

**–ü–æ—á–µ–º—É:**
1. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–¥
2. –ë–µ–∑ –Ω–∏—Ö –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∏ –æ–¥–Ω—É –Ω–æ–¥—É
3. –ú–æ–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –¥—Ä—É–≥–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏

**–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞:**

```
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç mqtt_client –¥–ª—è ESP-IDF

–ö–æ–Ω—Ç–µ–∫—Å—Ç:
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö ESP32-–Ω–æ–¥
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: doc_ai/03_TRANSPORT_MQTT/MQTT_SPEC_FULL.md
- –°—Ç–∞–Ω–¥–∞—Ä—Ç—ã: doc_ai/02_HARDWARE_FIRMWARE/ESP32_C_CODING_STANDARDS.md

–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ MQTT –±—Ä–æ–∫–µ—Ä—É
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Ç–æ–ø–∏–∫–∏: hydro/{gh}/{zone}/{node}/config, hydro/{gh}/{zone}/{node}/{channel}/command
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è: telemetry, status, heartbeat, command_response
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç –ø—Ä–∏ —Ä–∞–∑—Ä—ã–≤–µ
- –û–±—Ä–∞–±–æ—Ç–∫–∞ LWT (Last Will and Testament)
- QoS=1 –¥–ª—è –∫–æ–º–∞–Ω–¥ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°—Ç—Ä—É–∫—Ç—É—Ä–∞:
firmware/common/components/mqtt_client/
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îî‚îÄ‚îÄ mqtt_client.h
‚îú‚îÄ‚îÄ mqtt_client.c
‚îî‚îÄ‚îÄ CMakeLists.txt

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –†–∞–±–æ—á–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –≥–æ—Ç–æ–≤—ã–π –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ –Ω–æ–¥–∞—Ö
- –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ pump_node
```

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å MVP (–≠—Ç–∞–ø 1)

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≥—Ä–µ—Å—Å |
|-----------|--------|----------|
| Backend (Laravel) | MVP_DONE | 100% |
| Python-—Å–µ—Ä–≤–∏—Å—ã | MVP_DONE | 100% |
| Frontend | MVP_DONE | 100% |
| Firmware –Ω–æ–¥—ã | PLANNED | 5% (—Ç–æ–ª—å–∫–æ —Å–∫–µ–ª–µ—Ç pump_node) |
| Android | PLANNED | 0% |
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | PLANNED | 0% |

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å MVP:** ~60%

**–ë–ª–æ–∫–µ—Ä:** Firmware –Ω–æ–¥—ã (0% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏, –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã)

---

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø—É—Ç—å (–µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∂–µ–ª–µ–∑—É)

–ï—Å–ª–∏ –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å firmware —Å–µ–π—á–∞—Å:

1. **–ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–¥:**
   - –°–æ–∑–¥–∞—Ç—å MQTT-–∫–ª–∏–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π —ç–º—É–ª–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –Ω–æ–¥
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ—Å—Ç–æ–≤—É—é —Ç–µ–ª–µ–º–µ—Ç—Ä–∏—é
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –∏ –æ—Ç–≤–µ—á–∞–µ—Ç

2. **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - –ú–æ–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π backend API

3. **–£–ª—É—á—à–µ–Ω–∏–µ backend/frontend:**
   - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
   - –£–ª—É—á—à–µ–Ω–∏–µ UI/UX
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∏—á

---

## üìù –†–µ–∑—é–º–µ

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- Backend, Python-—Å–µ—Ä–≤–∏—Å—ã, Frontend ‚Äî –≥–æ—Ç–æ–≤—ã (MVP_DONE)
- Firmware ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–ª–æ–∫–µ—Ä (—Ç–æ–ª—å–∫–æ —Å–∫–µ–ª–µ—Ç—ã)
- Android ‚Äî –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –Ω–µ –±–ª–æ–∫–µ—Ä

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:**
1. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã firmware** (mqtt_client, config_storage, i2c_bus, logging)
2. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å pump_node** —Å INA209
3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ —Å–µ–Ω—Å–æ—Ä–Ω—ã–µ –Ω–æ–¥—ã** (ph_node, ec_node, climate_node)

**–¶–µ–ª—å:** –î–æ–≤–µ—Å—Ç–∏ firmware –¥–æ MVP_DONE –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º

**–û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:** 4-6 –Ω–µ–¥–µ–ª—å –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ MVP firmware

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- Roadmap: `doc_ai/ROADMAP_2.0.md`
- –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏: `doc_ai/IMPLEMENTATION_STATUS.md`
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ firmware: `doc_ai/02_HARDWARE_FIRMWARE/FIRMWARE_STRUCTURE.md`
- MQTT —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è: `doc_ai/03_TRANSPORT_MQTT/MQTT_SPEC_FULL.md`
- NodeConfig: `firmware/NODE_CONFIG_SPEC.md`
- –ö–æ–Ω–≤–µ–Ω—Ü–∏–∏: `doc_ai/DEV_CONVENTIONS.md`



