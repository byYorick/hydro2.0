{
  "test_suite": "E03_node_setup_preconfig",
  "generated_at": "2026-01-20T16:23:41.594035",
  "test_cases": [
    {
      "name": "set_test_identifiers",
      "status": "passed",
      "duration": 2.2172927856445312e-05,
      "error_message": null,
      "steps": [
        {
          "name": "set_test_identifiers",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:18.825628"
    },
    {
      "name": "build_node_sim_config",
      "status": "passed",
      "duration": 7.414817810058594e-05,
      "error_message": null,
      "steps": [
        {
          "name": "build_node_sim_config",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:18.825866"
    },
    {
      "name": "connect_websocket",
      "status": "passed",
      "duration": 5.4836273193359375e-06,
      "error_message": null,
      "steps": [
        {
          "name": "connect_websocket",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:18.825882"
    },
    {
      "name": "subscribe_devices_channel",
      "status": "passed",
      "duration": 0.20912528038024902,
      "error_message": null,
      "steps": [
        {
          "name": "subscribe_devices_channel",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:19.035034"
    },
    {
      "name": "start_node_simulator",
      "status": "passed",
      "duration": 5.746941566467285,
      "error_message": null,
      "steps": [
        {
          "name": "start_node_simulator",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:24.782020"
    },
    {
      "name": "node_sends_node_hello",
      "status": "passed",
      "duration": 2.004249334335327,
      "error_message": null,
      "steps": [
        {
          "name": "node_sends_node_hello",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:26.786405"
    },
    {
      "name": "wait_for_device_created_event",
      "status": "passed",
      "duration": 7.43865966796875e-05,
      "error_message": null,
      "steps": [
        {
          "name": "wait_for_device_created_event",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:26.786571"
    },
    {
      "name": "db_lookup_node",
      "status": "passed",
      "duration": 0.007949113845825195,
      "error_message": null,
      "steps": [
        {
          "name": "db_lookup_node",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:26.794593"
    },
    {
      "name": "set_node_identity",
      "status": "passed",
      "duration": 7.510185241699219e-05,
      "error_message": null,
      "steps": [
        {
          "name": "set_node_identity",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:26.794878"
    },
    {
      "name": "wait_for_registered_state",
      "status": "passed",
      "duration": 0.0015079975128173828,
      "error_message": null,
      "steps": [
        {
          "name": "wait_for_registered_state",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:26.796642"
    },
    {
      "name": "fetch_unassigned_nodes",
      "status": "passed",
      "duration": 0.11352062225341797,
      "error_message": null,
      "steps": [
        {
          "name": "fetch_unassigned_nodes",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:26.910237"
    },
    {
      "name": "fetch_zone_id",
      "status": "passed",
      "duration": 0.003008127212524414,
      "error_message": null,
      "steps": [
        {
          "name": "fetch_zone_id",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:26.913514"
    },
    {
      "name": "set_zone_id",
      "status": "passed",
      "duration": 1.5735626220703125e-05,
      "error_message": null,
      "steps": [
        {
          "name": "set_zone_id",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:26.913747"
    },
    {
      "name": "assign_node_to_zone",
      "status": "passed",
      "duration": 2.17037296295166,
      "error_message": null,
      "steps": [
        {
          "name": "assign_node_to_zone",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:29.084264"
    },
    {
      "name": "wait_for_device_assigned_event",
      "status": "passed",
      "duration": 0.0002713203430175781,
      "error_message": null,
      "steps": [
        {
          "name": "wait_for_device_assigned_event",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:29.084950"
    },
    {
      "name": "node_sends_config_report",
      "status": "passed",
      "duration": 2.005610466003418,
      "error_message": null,
      "steps": [
        {
          "name": "node_sends_config_report",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:31.091429"
    },
    {
      "name": "wait_for_binding_completed",
      "status": "passed",
      "duration": 0.0010304450988769531,
      "error_message": null,
      "steps": [
        {
          "name": "wait_for_binding_completed",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:31.092747"
    },
    {
      "name": "fetch_unassigned_nodes_after",
      "status": "passed",
      "duration": 0.09451103210449219,
      "error_message": null,
      "steps": [
        {
          "name": "fetch_unassigned_nodes_after",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:31.187316"
    },
    {
      "name": "device_created_event_payload",
      "status": "passed",
      "duration": 4.887580871582031e-05,
      "error_message": null,
      "steps": [
        {
          "name": "device_created_event_payload",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:31.187384"
    },
    {
      "name": "device_assigned_event_payload",
      "status": "passed",
      "duration": 2.2649765014648438e-05,
      "error_message": null,
      "steps": [
        {
          "name": "device_assigned_event_payload",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:31.187415"
    },
    {
      "name": "node_registered_in_setup_mode",
      "status": "passed",
      "duration": 0.00013375282287597656,
      "error_message": null,
      "steps": [
        {
          "name": "node_registered_in_setup_mode",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:31.187555"
    },
    {
      "name": "unassigned_api_has_results",
      "status": "passed",
      "duration": 7.62939453125e-06,
      "error_message": null,
      "steps": [
        {
          "name": "unassigned_api_has_results",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:31.187571"
    },
    {
      "name": "unassigned_api_returns_node",
      "status": "passed",
      "duration": 2.8371810913085938e-05,
      "error_message": null,
      "steps": [
        {
          "name": "unassigned_api_returns_node",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:31.187603"
    },
    {
      "name": "node_binding_completed",
      "status": "passed",
      "duration": 8.797645568847656e-05,
      "error_message": null,
      "steps": [
        {
          "name": "node_binding_completed",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:31.187696"
    },
    {
      "name": "unassigned_api_excludes_node_after_binding",
      "status": "passed",
      "duration": 6.4373016357421875e-06,
      "error_message": null,
      "steps": [
        {
          "name": "unassigned_api_excludes_node_after_binding",
          "status": "passed"
        }
      ],
      "timestamp": "2026-01-20T16:23:31.187708"
    }
  ],
  "timeline": [],
  "artifacts": {
    "E03_node_setup_preconfig": {
      "ws_messages": [
        {
          "data": {
            "event": "pusher_internal:subscription_succeeded",
            "data": "{}",
            "channel": "private-hydro.devices"
          },
          "timestamp": "2026-01-20T16:23:18.944803"
        },
        {
          "data": {
            "event": "device.updated",
            "data": {
              "device": {
                "id": 75,
                "uid": "nd-ph-h1768915-1",
                "name": null,
                "type": "ph",
                "status": "offline",
                "lifecycle_state": "REGISTERED_BACKEND",
                "fw_version": "2.0.0-sim",
                "hardware_id": "h1768915398",
                "zone_id": null,
                "last_seen_at": null,
                "first_seen_at": "2026-01-20T13:23:25+00:00",
                "was_recently_created": false
              },
              "event_id": 1768915405000003593,
              "server_ts": 1768915405000
            },
            "channel": "private-hydro.devices"
          },
          "timestamp": "2026-01-20T16:23:25.055487"
        },
        {
          "data": {
            "event": "device.updated",
            "data": "{\"device\":{\"id\":75,\"uid\":\"nd-ph-h1768915-1\",\"name\":null,\"type\":\"ph\",\"status\":\"offline\",\"lifecycle_state\":\"REGISTERED_BACKEND\",\"fw_version\":\"2.0.0-sim\",\"hardware_id\":\"h1768915398\",\"zone_id\":null,\"last_seen_at\":null,\"first_seen_at\":\"2026-01-20T13:23:25+00:00\",\"was_recently_created\":false},\"event_id\":1768915407000003594,\"server_ts\":1768915407000}",
            "channel": "private-hydro.devices"
          },
          "timestamp": "2026-01-20T16:23:27.069417"
        }
      ],
      "mqtt_messages": [],
      "api_responses": [],
      "context_vars": {
        "zone_id": 1,
        "zone_uid": "zn-test-1",
        "node_id": 75,
        "node_uid": "nd-ph-h1768915-1",
        "test_hardware_id": "h1768915398",
        "ws_last_event_id": 1768915407000003594
      }
    }
  }
}